{"ts":1352352191080,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var jayCounter = 1;\n\nJayProvider = function(){};\nJayProvider.prototype.dummyData = [];\n\nJayProvider.prototype.findAll = function(callback) {\n  callback( null, this.dummyData );\n};\n\nJayProvider.prototype.findById = function(id, callback) {\n  var result = null;\n  for(var i =0;i<this.dummyData.length;i++) {\n    if( this.dummyData[i]._id == id ) {\n      result = this.dummyData[i];\n      break;\n    }\n  }\n  callback(null, result);\n};\n\nJayProvider.prototype.save = function(jays, callback) {\n  var jay = null;\n\n  if( typeof(jays.length)==\"undefined\")\n    jays = [jays];\n\n  for( var i =0;i< jays.length;i++ ) {\n    jay = jays[i];\n    jay._id = jayCounter++;\n    jay.created_at = new Date();\n\n    if( jay.comments === undefined )\n      jay.comments = [];\n\n    for(var j =0;j< jay.comments.length; j++) {\n      jay.comments[j].created_at = new Date();\n    }\n    this.dummyData[this.dummyData.length]= jay;\n  }\n  callback(null, jays);\n};\n\n/* Lets bootstrap with dummy data */\nnew JayProvider().save([\n  {title: 'Post one', body: 'Body one', comments:[{author:'Bob', comment:'I love it'}, {author:'Dave', comment:'This is rubbish!'}]},\n  {title: 'Post two', body: 'Body two'},\n  {title: 'Post three', body: 'Body three'}\n], function(error, articles){});\n\nexports.JayProvider = JayProvider;"]],"start1":0,"start2":0,"length1":0,"length2":1281}]],"length":1281}
